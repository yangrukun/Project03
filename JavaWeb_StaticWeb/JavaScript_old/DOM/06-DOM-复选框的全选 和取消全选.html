<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>复选框的全选和取消全选</title>
	</head>
	<body>
		<script type="text/javascript">
			window.onload = function() {
				var firstChk = document.getElementById("firstChk");
				var aihao = document.getElementsByName("aihao") //这个aihao变量是个数组。
				
				firstChk.onclick = function() {
					//获取第一个复选框选中状态（复选框对象checkbox对象）
					//根据name获取所有元素。getElementsByName 有s
					

					/* 					checked 属性设置或返回 checkbox 是否应被选中。
										语法
										checkboxObject.checked=true|false */

					/* 					if(firstChk.checked){
											//全选
											//数组下标是从0开始。
											for(var i = 0;i < aihao.length;i++){
												aihao[i].checked = true;
												}
										}else{
											//取消全选
											for(var i = 0;i < aihao.length;i++){
												aihao[i].checked = false;
												}
										} */
					//把以上代码简化：
					for (var i = 0; i < aihao.length; i++) {
						aihao[i].checked = firstChk.checked;
					}
				}
				// 对以上数组遍历
				var all = aihao.length;
				for (var i = 0; i < aihao.length; i++) {
					aihao[i].onclick = function(){
						var checkedCount = 0;
						
						for(var i = 0; i < aihao.length; i++){
							if(aihao[i].checked){
								checkedCount++;
							}							
						}
						//记住下面是==等号，不是赋值运算符=。
					/* 	if(all == checkedCount ){
							firstChk.checked = true;
						}else{
							firstChk.checked = false;
						} */
						//简化以上代码：
						//一行代码就能简化，(all == checkedCount) 能自己进行判断，结果是true 或者 false 。
						firstChk.checked = (all == checkedCount);//右边结果是true 或者 false 。
						
					}
				}

			}
		</script>
		<input type="checkbox" id="firstChk" /><br />
		<input type="checkbox" name="aihao" value="smoke" />抽烟<br />
		<input type="checkbox" name="aihao" value="drink" />喝酒<br />
		<input type="checkbox" name="aihao" value="firehead" />烫头<br />

	</body>
</html>
